# CodeCraft Spec 核心原则

本文档定义了 `CodeCraft Spec` 框架的最高指导原则。

---

## A. 顶层原则 (Overarching Principles)

### 1. 架构级的上下文工程 (Architecture-level Context Engineering)
所有开发都必须在编码之初，就为项目的**自维护知识图谱**贡献结构化数据。我们构建的不仅仅是软件，更是一个关于软件本身的、可查询的知识库。

### 2. 文档同步是铁律 (Doc-Sync is Law)
任何代码修改，如果未能同步更新所有相关文档，都将被视为一次**有缺陷的交付**。代码与文档必须始终保持原子级的一致性。

### 3. 人机审批循环 (Human-in-the-Loop Approval)
**AI 代理在对高级目标进行自动拆解后，必须将细化方案提交给人类用户审批。** 只有在获得明确批准后，才能继续执行。这是确保 AI 行为符合人类期望的最高保障。

---

## B. 实施原则 (Implementation Principles)

### 4. 文档即代码 (Docs-as-Code)
规约是驱动开发的、机器可读、可验证、可执行的“代码”。它们不是静态的文档，而是动态的、有生命力的系统蓝图。

### 5. 唯一标识 (Everything is Addressable)
项目中的每一个核心概念（规约、功能、决策等）都必须被赋予一个全局唯一的标识符 (UID)，使其可以被精确地引用、查询和关联。

### 6. 价值驱动的增量交付 (Value-Driven Incremental Delivery)
**所有功能的开发都必须被强制划分为“核心”和“次要”两个阶段。** 团队必须优先交付能够为用户创造最大价值的核心功能，然后再根据规划迭代次要功能。此原则旨在确保最关键的需求得到最快的满足。

### 7. 流程固化 (Process is Mandatory)
我们定义的工作流 (`WORKFLOW.md`) 是一个必须被严格遵守的强制流程，它旨在将上述所有原则转化为可执行的步骤。

### 8. 索引优先 (Index-First Loading)
AI 代理在开始任何任务之前，必须首先加载并分析项目的全局索引 (`INDEX.md`)，以确保其行动具备最完整的上下文。

### 9. 统一沟通语言 (Unified Communication Language)
**所有由本规范驱动产出的、供人类阅读的文本，都必须使用中文撰写。** 这包括但不限于：规约文件 (`spec.md`) 的所有内容、代码中的注释和文档字符串 (docstrings)、以及版本控制信息（`git commit` 消息）。
**例外**: 为了保持与全球技术生态的兼容性，所有代码标识符（如变量名、函数名、类名、API 端点等）**必须**继续使用英文。

### 10. 主动澄清责任 (Duty of Proactive Clarification)
**AI 代理在接收到任何可能存在歧义、或缺乏足够上下文的用户指令时，负有主动发起“深度规划会话”的责任。** AI 必须通过苏格拉底式的提问，与用户一同探索并明确所有隐藏的需求和约束，直到双方对任务目标达成完全、无歧义的共识。严禁在需求不明确的情况下，进行任何的假设性开发。
