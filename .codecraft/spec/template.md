<规约>

  <details>
    <summary>元数据 (点击展开)</summary>
    <元数据>
      <标题>规约：[功能或变更的标题]</标题>
      <摘要>[关于解决方案的一句话摘要]</摘要>
      <状态>草稿</状态>
      <负责人>@username | AI 代理</负责人>
      <关联任务>tasks.md</关联任务>
    </元数据>
  </details>

  <details>
    <summary>上下文 (点击展开)</summary>
    <上下文>
      <项目 名称="CodeCraftAI">
        <技术栈>[列出与此任务相关的核心技术]</技术栈>
        <架构>[描述与此任务相关的关键架构模式]</架构>
      </项目>
      <关联>
        <规约>[引用另一个相关的 spec.md 文件，如果没有则删除此行]</规约>
        <决策 编号="ADR-XXX">[引用一个相关的架构决策记录，如果没有则删除此行]</决策>
        <文档>[链接到相关的用户文档或外部文档，如果没有则删除此行]</文档>
      </关联>
    </上下文>
  </details>

  <指令分析>
    <details>
      <summary>核心请求 (点击展开)</summary>
      <核心请求>
        <目标>[分析用户请求，用一句话说明核心目标。]</目标>
        <角色>[列出关键的参与者。]</角色>
        <约束 类型="技术">[列出所有已声明的技术限制、性能要求等。]</约束>
      </核心请求>
    </details>
    <details>
      <summary>模糊点诊断 (点击展开)</summary>
      <模糊点诊断>
        <缺失信息>[识别请求中的空白。]</缺失信息>
        <假设>[列出您为继续进行而做出的任何假设。]</假设>
        <澄清问题>[如果模糊点无法通过安全的假设来解决，请在此处列出您的问题。]</澄清问题>
      </模糊点诊断>
    </details>
  </指令分析>

  <实施计划>
    <details>
      <summary>解决方案 (点击展开)</summary>
      <解决方案>
        <顶层策略>[描述您的整体方法。]</顶层策略>
        <文件变更>
          <创建>[列出将要创建的新文件]</创建>
          <修改>[列出现有的将要修改的文件]</修改>
          <删除>[列出将要删除的文件，并说明理由]</删除>
        </文件变更>
        <设计>
          <核心逻辑>[用伪代码或步骤列表描述任何复杂的逻辑。]</核心逻辑>
          <异步设计>[描述并发模型、关键异步操作、状态管理和错误处理。]</异步设计>
          <API设计>[描述 API 的端点、请求/响应格式。]</API设计>
        </design>
      </解决方案>
    </details>
    <details>
      <summary>测试策略 (点击展开)</summary>
      <测试策略>
        <单元测试>[描述所需的单元测试，包括异步测试。]</单元测试>
        <集成测试>[描述任何集成测试，包括并发测试。]</集成测试>
      </测试策略>
    </details>
  </实施计划>

  <输出规范>
    <details>
      <summary>完成定义 & 风险 (点击展开)</summary>
      <完成定义>
        - [ ] 所有代码均按计划实现。
        - [ ] 所有新的和现有的测试都通过。
        - [ ] 代码质量检查（linting, formatting）通过。
      </完成定义>
      <风险与未知>[列出任何潜在的风险或依赖关系。]</风险与未知>
    </details>
  </输出规范>
</规约>
