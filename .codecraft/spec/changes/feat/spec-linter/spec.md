<规约 UID="spec-003">

  <details>
    <summary>元数据 (点击展开)</summary>
    <元数据>
      <标题>规约：规约 Linter (静态检查器)</标题>
      <摘要>开发一个静态分析工具，用于检查 `.md` 规约文件是否符合 `CodeCraft Spec` 的语法和规则，从而在早期阶段预防错误和不一致性。</摘要>
      <状态>草稿</状态>
      <负责人>@jules-ai</负责人>
      <流程级别>Tier-1</流程级别>
    </元数据>
  </details>

  <details>
    <summary>上下文 (点击展开)</summary>
    <上下文>
      <项目 名称="CodeCraftAI">
        <技术栈>Python</技术栈>
        <架构>CodeCraft Spec 驱动</架构>
      </项目>
      <关联>
        <原则>../../PRINCIPLES.md</原则>
        <语法>../../SYNTAX.md</语法>
        <工具>../feat/indexer-tool/spec.md</工具>
      </关联>
    </上下文>
  </details>

  <指令分析>
    <details>
      <summary>核心请求 (点击展开)</summary>
      <核心请求>
        <目标>创建一个“代码规约的编译器”，在规约被批准和实施前，主动捕捉所有格式、语法和逻辑上的错误。这是减少下游 bug 的关键机制。</目标>
      </核心请求>
    </details>
  </指令分析>

  <实施计划>
    <details>
      <summary>解决方案 (点击展开)</summary>
      <解决方案>
        <顶层策略>
          创建一个独立的 Python 脚本 (`tools/linter.py`)。
          该脚本将接受一个文件路径作为输入，并执行一系列验证检查。

          **核心检查规则:**
          1.  **UID 唯一性**: 扫描所有规约，确保 `<规约>` 和 `<功能>` 的 UID 不重复。
          2.  **语法有效性**: 验证所有自定义 XML 标签是否正确配对和闭合。
          3.  **强制性段落**: 检查是否存在如 `<元数据>`, `<实施计划>` 等核心段落。
          4.  **流程级别**: 确保 `<流程级别>` 的值是预定义的值之一 (例如, 'Tier-1', 'Tier-2')。
          5.  **链接有效性**: (高级功能) 检查文档内部的相对链接是否指向有效的文件。

        </顶层策略>
        <文件变更>
          <创建>tools/linter.py</创建>
          <创建>docs/linter-rules.md</创建>
        </文件变更>
      </解决方案>
    </details>
  </实施计划>

</规约>
